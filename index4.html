<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .container {
            width: 50%;
            background-color: beige;
            margin: 0 auto;
            padding: 20px;
        }

        .hidden {
            display: none;
        }

        .loader {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div>
            <h4>Заголовок 1</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>

        <div class="loader hidden">
            <img src="loader3.gif" alt="loader" width="100px">
        </div>

        <div class="hidden">
            <h4>Заголовок 2</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div class="hidden">
            <h4>Заголовок 2</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div class="hidden">
            <h4>Заголовок 2</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div class="hidden">
            <h4>Заголовок 2</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>
        <div class="hidden">
            <h4>Заголовок 2</h4>
            <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolore quibusdam consequatur quo eveniet
                voluptatem quasi expedita deleniti laboriosam officia eligendi.
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Expedita nihil fugiat error nesciunt commodi
                quos, quam quas explicabo voluptatum tempora sapiente adipisci aliquid corrupti non, aperiam culpa, sed
                unde. Nihil.</p>
        </div>

        <script>

            const container = document.querySelector('.container');
            const hiddenPost = document.querySelectorAll('.hidden');
            const loader = document.querySelector('.loader');

            window.addEventListener('scroll', () => {
                [...hiddenPost].forEach(post => {
                    if (container.scrollHeight - container.scrollTop === container.clientHeight) {
                        loader.classList.remove('hidden');
                        setTimeout(() => {
                            post.classList.remove('hidden');
                            loader.classList.add('hidden');
                        }, 3000);
                    };
                });
            }, { once: true });

        </script>
    </div>
</body>

</html>